#:import Svg kivy.graphics.svg
# <MDLabel@MDLabel>:
# 	font: "Montosserat.ttx"
<EPBox>:
	adaptive_size: True
	md_bg_color: get_color_from_hex("#FFFFFF")
	orientation: "vertical"
	MDLabel:
		text: "dasda"
	MDLabel:
		text: "dasdas"
	MDLabel:
		text: "dsda"
	

<SongImage>:
	source: "Items/songpic.png"
	size_hint: (None, None)

<SongLabel>:
	text: "Lorem Ipsum"
	font_size: "18sp"
	size_hint: (1, 1)
	# valing: "top"
	# haling: "middle"
	theme_text_color: "Custom"
	text_color: get_color_from_hex("#FFFFFF")
	md_bg_color: get_color_from_hex("#1E1F24")

<ShadowCard>:
	size_hint: (1, 1)
	radius: [1, 1, 10, 10]
	elevation: 6
	shadow_color: get_color_from_hex("#18181F")

	MDFloatLayout:
		size_hint: (1, 1)
		md_bg_color: get_color_from_hex("#1E1F24")
		radius: [1, 1, 10, 10]

		MiniSongImage:
			pos_hint: {"x": 0.023, "y": 0.25}
			size_hint: (None, None)
			size: (34, 34)

		MDLabel:
			text: "Lorem Ipsum"
			font_size: "14sp"
			size_hint: (1, 0.35)
			pos_hint: {"x": 0.157, "y": 0.5}
			color: get_color_from_hex("#E4E4E4")

		MDLabel:
			text: "Lorem Ipsum"
			font_size: "12sp"
			size_hint: (1, 0.25)
			pos_hint: {"x": 0.157, "y": 0.26}
			color: get_color_from_hex("#818284")

		MDLabel:
			text: "3:25"
			font_size: "12sp"
			size_hint: (0.076, 0.24)
			pos_hint: {"x": 0.68, "y": 0.38}
			color: get_color_from_hex("#FFFFFF")

		MDIconButton:
			allow_stretch: True
			keep_ratio: False
			icon: "heart-outline"
			size_hint: (0.071, 0.45)
			pos_hint: {"x": 0.814, "y": 0.31}
			theme_icon_color: "Custom"
			icon_color: get_color_from_hex("#E4E4E4")

		MDIconButton:
			allow_stretch: True
			keep_ratio: False		
			size_hint: (0.05, 0.5)
			pos_hint: {"x": 0.9, "y": 0.3}
			icon: "dots-vertical"
			theme_icon_color: "Custom"
			icon_color: get_color_from_hex("#E4E4E4")


<MiniSongImage@Image>:
	source: "Items/minisongpic.png"
	size_hint: (None, None)
	size: (34, 34)










MDScreen:
	name: "home"

	MDFloatLayout:
		md_bg_color: get_color_from_hex("#FFFFFF")

		ScrollView:
			do_scroll_x: False
			do_scroll_y: True
			bar_width: 0.5

			MDFloatLayout:
				id: mainfl
				md_bg_color: get_color_from_hex("#1E1F24")
				size_hint_y: None
				height: 2100
				size_hint_x: 1

				MDBoxLayout:
					orientation: "horizontal"
					pos_hint: {"x": 0, "y": 0.9728}
					size_hint: (1, 0.028)
					line_width: 1
					line_color: get_color_from_hex("#4E3064")
					padding: [5, 0, 0, 0]
					spacing: 5

					Image: 
						source: "Items/avatar.png"
						size_hint: (0.11, 1)

					MDLabel:
						text: "Gustavo"
						size_hint: (0.6, 1)
						color: get_color_from_hex("#E4E4E4")
						bold: True	

					MDIconButton:
						icon: "cloud-upload-outline"
						size_hint: (0.2, 1)
						theme_icon_color: "Custom"
						icon_color: get_color_from_hex("#596AC6")

					MDIconButton:
						icon: "email-variant"
						size_hint: (0.2, 1)
						theme_icon_color: "Custom"
						icon_color: get_color_from_hex("#596AC6")


				MDLabel:
					text: "История"
					size_hint: (1, 0.0068)
					color: get_color_from_hex("#E4E4E4")
					pos_hint: {"x": 0.027, "y": 0.96}

				MDLabel: 
					text: "Все недавние эмоции в одной строчке"
					color: get_color_from_hex("#818284")
					size_hint: (1, 0.00514)
					pos_hint: {"x": 0.027, "y": 0.9515}


				ScrollView:					
					do_scroll_x: True
					do_scroll_y: False
					bar_width: 0.5
					size_hint_y: 0.07
					pos_hint: {"x": 0, "y": 0.87}

					MDGridLayout:
						id: songgl
						cols: 7
						rows: 2
						padding: [10, 0, 0, 0]
						spacing: 0
						orientation: "tb-lr"
						md_bg_color: get_color_from_hex("#1E1F24")
						size_hint_x: None
						width: 1000
						


				MDLabel: 
					id: las
					text: "Тематическая неделя"
					size_hint: (1, 0.0068)
					pos_hint: {"x": 0.027, "y": 0.85}
					color: get_color_from_hex("#E4E4E4")
					bold: True

				ShadowImage:
					source: "Items/themeweek.png"
					font_size: "12sp"
					pos_hint: {"x": 0.027, "y": 0.75}
					size_hint: (0.94, 0.095)
					elevation: 6
					shadow_color: get_color_from_hex("#18181F")

				MDFillRoundFlatButton:
					text: "Перейти к плейлисту"
					md_bg_color: get_color_from_hex("#FFFFFF")
					text_color: get_color_from_hex("#EF3838")
					radius: (15, 15)
					font_size: "10sp"
					size_hint: (0.353, 0.0062)
					pos_hint: {"x": 0.05, "y": 0.76}

				MDGridLayout:
					rows: 5
					cols: 1
					id: shadow_grid
					md_bg_color: get_color_from_hex("#1E1F24")
					size_hint: (0.94, 0.147)
					pos_hint: {"x": 0.027, "y": 0.605}

				ShadowBox:
					size_hint: (0.9444, 0.0142)
					radius: [1, 1, 10, 10]
					padding: [14, 0, 0, 0]
					elevation: 6
					shadow_color: get_color_from_hex("#18181F")
					orientation: "horizontal"
					pos_hint: {"x": 0.027, "y": 0.591}
					md_bg_color: get_color_from_hex("#1E1F24")

					MDTextButton:
						text: "Всего 30 песен"
						color: get_color_from_hex("#FFFFFF")
						pos_hint: {"x": 0.5, "y": 0.35}
						size_hint: (0.29, 0.3)

					MDLabel:
						text: "1 : 23 : 45"
						color: get_color_from_hex("#818284")
						size_hint: (0.106, 0.2)
						pos_hint: {"x": 0.835, "y": 0.37}

				MDLabel:
					text: "Найдено для Вас"
					size_hint: (1, 0.00686)
					pos_hint: {"x": 0.027, "y": 0.57}
					color: get_color_from_hex("#E4E4E4")

				MDLabel:
					text: "Основано на Вашей истории прослушивания"
					size_hint: (1, 0.005)
					pos_hint: {"x": 0.027, "y": 0.562}
					color: get_color_from_hex("#818284")

				MDGridLayout:
					id: plgl
					cols: 2
					rows: 3
					size_hint: (0.8888, 0.14)
					pos_hint: {"x": 0.05, "y": 0.41}
					md_bg_color: get_color_from_hex("#1E1F24")
					spacing: 20

				# MDLabel:
				# 	text: "Радио"
				# 	font_size: "20sp"
				# 	color: get_color_from_hex("#E4E4E4")
				# 	size_hint: (0.175, 0.0068)
				# 	pos_hint: {"x": 0.0277, "y": 0.589}

				# MDLabel:
				# 	text: "На основе выбранной темы"
				# 	font_size: "14sp"
				# 	color: get_color_from_hex("#818284")
				# 	size_hint: (0.538, 0.0048)
				# 	pos_hint: {"x": 0.0277, "y": 0.584}
					

		MDBottomNavigation:
			id: box
			size_hint: (1, 0.08)
			panel_color: get_color_from_hex("#23232D")

			MDBottomNavigationItem:
				icon: "Items/home.png"
				on_tab_press: root.manager.current = "home"

			MDBottomNavigationItem:
				on_tab_press: root.manager.current = "reg"
				icon: "Items/radio.png"

			MDBottomNavigationItem:
				name: "reg"
				icon: "Items/search.png"

			MDBottomNavigationItem:
				icon: "Items/playlist.png"

		MDBoxLayout:

			md_bg_color: get_color_from_hex("#18181F")
			size_hint: (1, 0.08)
			pos_hint: {"x": 0, "y": 0.09}

			MDIconButton:
				id: play_but
				icon: "play"
				theme_icon_color: "Custom"
				icon_color: get_color_from_hex("#E4E4E4")
				size_hint: (None, None)
				pos_hint: {"x": 0, "y": 0.05}

			ProgressBar:
				id: pg_bar
				color: get_color_from_hex("#596AC6")
				# secondary_color: get_color_from_hex("#4E3064")
				value: 50
				# pos_hint: {"x": 0, "y": 0}
				# size_hint: (1, 0.01)









































